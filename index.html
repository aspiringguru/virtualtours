<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Virtual Tours</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/freelancer.min.css" rel="stylesheet">

    <!-- added for pannellum virtual tour -->
    <link rel="stylesheet" href="css/pannellum.css"/>
    <script type="text/javascript" src="js/pannellum.js"></script>
    <style>
      #panorama {
          width: 600px;
          height: 400px;
      }
      #controls {
          position: absolute;
          bottom: 0;
          z-index: 2;
          text-align: center;
          width: 100%;
          padding-bottom: 3px;
      }
      .ctrl {
          padding: 8px 5px;
          width: 30px;
          text-align: center;
          background: rgba(200, 200, 200, 0.8);
          display: inline-block;
          cursor: pointer;
      }
      .ctrl:hover {
          background: rgba(200, 200, 200, 1);
      }

      .button {
          background-color: #4CAF50;
          border: none;
          color: white;
          padding: 15px 32px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 16px;
          margin: 4px 2px;
          cursor: pointer;
      }

  	</style>

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg bg-secondary fixed-top text-uppercase" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Virtual Tours</a>
        <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#portfolio">Portfolio</a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about">About</a>
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead bg-primary text-white text-center">
      <div class="container">
        <img class="img-fluid mb-5 d-block mx-auto" src="img/profile.png" alt="">
        <h1 class="text-uppercase mb-0">Virtual Tours</h1>
        <hr class="star-light">
        <h2 class="font-weight-light mb-0">Give your customers a virtual experience in your venue today.</h2>
      </div>
    </header>

    <!-- Portfolio Grid Section -->
    <section class="portfolio" id="portfolio">
      The Precinct. Fortitude Valley.
      <div id="panorama">
          <div id="controls">
              <div class="ctrl" id="pan-up">&#9650;</div>
              <div class="ctrl" id="pan-down">&#9660;</div>
              <div class="ctrl" id="pan-left">&#9664;</div>
              <div class="ctrl" id="pan-right">&#9654;</div>
              <div class="ctrl" id="zoom-in">&plus;</div>
              <div class="ctrl" id="zoom-out">&minus;</div>
              <div class="ctrl" id="fullscreen">&#x2922;</div>
          </div>
      </div>
      <div>
        <button class="button" id="jump_ramp">Camera 1 - Ramp</button>
        <button class="button" id="jump_bench">Camera 2 - Bench</button>
        <button class="button" id="jump_sink">Camera 3 - Sink</button>
      </div>
    </section>

    <!-- About Section -->
    <section class="bg-primary text-white mb-0" id="about">
      <div class="container">
        <h2 class="text-center text-uppercase text-white">About</h2>
        <hr class="star-light mb-5">
        <div class="row">
          <div class="col-lg-4 ml-auto">
            <p class="lead">Virtual Tours provide a simple virtual experience for your guests. Viewable on mobile, desktop, laptop and portable devices, virtual tours are an essential tool to connect with customers.</p>
          </div>
          <div class="col-lg-4 mr-auto">
            <p class="lead">Whether you're a large or small venue, we can produce a virtual tour for your facility. Contact us today.</p>
          </div>
        </div>
        <div class="text-center mt-4">
        </div>
      </div>
    </section>

    <!-- Contact Section -->

    <!-- Footer -->
    <footer class="footer text-center">
      <div class="container">
        <div class="row">
          <div class="col-md-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Location</h4>
            <p class="lead mb-0">TCB Building
              <br>The Precinct
              <br>315 Brunswick St.
              <br>Fortitude Valley QLD 4000</p>
          </div>
          <div class="col-md-4 mb-5 mb-lg-0" id="contact">
            <h4 class="text-uppercase mb-4">Contact Us</h4>
            <ul class="list-inline mb-0">
              <li class="list-inline-item">
                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://www.facebook.com/FredMTaylor">
                  <i class="fab fa-fw fa-facebook-f"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://plus.google.com/u/0/+MatthewTaylorAu">
                  <i class="fab fa-fw fa-google-plus-g"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://twitter.com/bmTaylorBNE">
                  <i class="fab fa-fw fa-twitter"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a class="btn btn-outline-light btn-social text-center rounded-circle" href="https://www.linkedin.com/in/bmatthewtaylor/">
                  <i class="fab fa-fw fa-linkedin-in"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-4">
            <h4 class="text-uppercase mb-4"></h4>
            <p class="lead mb-0"></p>
          </div>
        </div>
      </div>
    </footer>

    <div class="copyright py-4 text-center text-white">
      <div class="container">
        <small>Copyright &copy; virtualtours 2018</small>
      </div>
    </div>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-to-top d-lg-none position-fixed ">
      <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
        <i class="fa fa-chevron-up"></i>
      </a>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/freelancer.min.js"></script>

    <script>
      viewer = pannellum.viewer('panorama', {
        "default": {
            "firstScene": "precinct-kitchen",
            "author": "Matthew Taylor",
            "sceneFadeDuration": 1000,
            "autoLoad": true,
            "showControls": false
        },

        "scenes": {
            "precinct-kitchen": {
                "title": "Precinct Kitchen Ramp Divider",
                "hfov": 110,
                "pitch": -3,
                "yaw": 117,
                "type": "equirectangular",
                "panorama": "images/precinct-kitchen.jpg",
                "hotSpotDebug": true,
                "hotSpots": [
                    {
                        "pitch": -1.7901503349377297,
                        "yaw": 73.81299314908057,
                        "type": "scene",
                        "text": "Precinct Kitchen Center Bench",
                        "sceneId": "precinct_kitchen3",
                        "targetYaw": -47.042118724768066,
                        "targetPitch": -2.82899839954421
                    },
                    {
                        "pitch": -0.79,
                        "yaw": 102.3,
                        "type": "scene",
                        "text": "Precinct Kitchen Sink",
                        "sceneId": "precinct_kitchen2",
                        "targetYaw": 5.6,
                        "targetPitch": -2.6
                    }
                ]
            },

            "precinct_kitchen2": {
                "title": "Precinct Kitchen Sink",
                "hfov": 110,
                "pitch": -3,
                "yaw": 117,
                "type": "equirectangular",
                "panorama": "images/precinct_kitchen2.jpg",
                "hotSpotDebug": true,
                "hotSpots": [
                    {
                        "pitch": 2.8,
                        "yaw": 9.1,
                        "type": "scene",
                        "text": "Precinct Kitchen Ramp Divider",
                        "sceneId": "precinct-kitchen",
                        "targetYaw": 117,
                        "targetPitch": -3
                    },
                    {
                        "pitch": 2.35,
                        "yaw": 45.2,
                        "type": "scene",
                        "text": "Precinct Kitchen Bench",
                        "sceneId": "precinct_kitchen3",
                        "targetYaw": -79,
                        "targetPitch": -20
                    }
                ]
            },

            "precinct_kitchen3": {
                "title": "Precinct Kitchen Bench",
                "hfov": 110,
                "yaw": 5,
                "type": "equirectangular",
                "panorama": "images/precinct_kitchen3.jpg",
                "hotSpotDebug": true,
                "hotSpots": [
                    {
                        "pitch": 1.9016234856073906,
                        "yaw": 0.10235255003038102,
                        "type": "scene",
                        "text": "Precinct Kitchen Ramp Divider",
                        "sceneId": "precinct-kitchen",
                        "targetYaw": 117,
                        "targetPitch": -3
                    },
                    {
                        "pitch": -1.7212797753871014,
                        "yaw": -111.1248115106002,
                        "type": "scene",
                        "text": "Precinct Kitchen Sink",
                        "sceneId": "precinct_kitchen2",
                        "targetYaw": 29.47530774273426,
                        "targetPitch": -6.746924436483827
                    }
                ]
            }
        }
    });


    // Make control buttons on display work
    document.getElementById('pan-up').addEventListener('click', function(e) {
        viewer.setPitch(viewer.getPitch() + 10);
    });
    document.getElementById('pan-down').addEventListener('click', function(e) {
        viewer.setPitch(viewer.getPitch() - 10);
    });
    document.getElementById('pan-left').addEventListener('click', function(e) {
        viewer.setYaw(viewer.getYaw() - 10);
    });
    document.getElementById('pan-right').addEventListener('click', function(e) {
        viewer.setYaw(viewer.getYaw() + 10);
    });
    document.getElementById('zoom-in').addEventListener('click', function(e) {
        viewer.setHfov(viewer.getHfov() - 10);
    });
    document.getElementById('zoom-out').addEventListener('click', function(e) {
        viewer.setHfov(viewer.getHfov() + 10);
    });
    document.getElementById('fullscreen').addEventListener('click', function(e) {
        viewer.toggleFullscreen();
    });
    document.getElementById('jump_ramp').addEventListener('click', function(e) {
        console.log("jump_ramp, jump to scene 'precinct-kitchen'")
        viewer.loadScene("precinct-kitchen")
    });
    document.getElementById('jump_bench').addEventListener('click', function(e) {
        console.log("jump_bench, jump to scene 'precinct-kitchen'")
        viewer.loadScene("precinct_kitchen3")
    });
    document.getElementById('jump_sink').addEventListener('click', function(e) {
        console.log("jump_sink, jump to scene 'precinct-kitchen'")
        viewer.loadScene("precinct_kitchen2")
    });


    window.onkeyup = function(e) {
      var key = e.keyCode ? e.keyCode : e.which;
      console.log("key = ", key)
      //https://keycode.info/
      //https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes
      //0 = 48, 1 = 49, ... 8=56, 9=57
      //keyboard keyinputs are different
      // keyboard 0=96, 1=97, 2=98, ... 8=104, 9=105

      //todo: change to switch case instead of if else.
        if (key == 49 || key == 97) {
          console.log("key one pressed")
          viewer.loadScene("precinct-kitchen")
          //
        }else if (key == 50 || key == 98) {
          console.log("key two pressed")
          viewer.loadScene("precinct_kitchen3")
          //
        }else if (key == 51 || key == 99) {
          console.log("key three pressed")
          viewer.loadScene("precinct_kitchen2")
          //
        }else if (key == 38) {
          console.log("up arrow pressed")
          viewer.setPitch(viewer.getPitch() + 10);
        }else if (key == 40) {
          console.log("down arrow pressed")
          viewer.setPitch(viewer.getPitch() - 10);
        }else if (key == 37) {
          console.log("left arrow pressed")
          viewer.setYaw(viewer.getYaw() - 10);
        }else if (key == 39) {
          console.log("right arrow pressed")
          viewer.setYaw(viewer.getYaw() + 10);
        }
      }

    </script>

  </body>

</html>
